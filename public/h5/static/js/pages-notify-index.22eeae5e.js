(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-notify-index"],{"321e":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"notify"},[i("v-uni-view",[t._l(t.notifyList,(function(e){return i("gj-list-chat",{key:e.id,attrs:{title:t._f("notifyTypeFilter")(e.notifiable_type),avatar:e.notification_logo,note:e.description,time:e.created_at,clickable:!0,"badge-text":e.notification_count},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navTo("/pages/notify/notify?notifiable_type="+e.notifiable_type+"&notification_count="+e.notification_count)}}})})),i("gjLoading",{attrs:{isFullScreen:!0,active:t.loading}})],2),0===t.notifyList.length&&t.hasLogin?i("gj-empty",{attrs:{bottom:t.bottom,info:"您还没有推送消息"}}):t._e(),t.hasLogin?t._e():i("v-uni-view",{staticClass:"notify-empty"},[i("v-uni-text",{staticClass:"iconfont iconxiaoxi-",class:"text-"+t.themeColor.name}),i("v-uni-view",{staticClass:"empty-tips"},[t._v("暂未登录"),i("v-uni-view",{staticClass:"navigator",class:"text-"+t.themeColor.name,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navToLogin("/pages/public/logintype")}}},[t._v("登录/注册 >")])],1)],1)],1)},o=[]},3560:function(t,e,i){"use strict";i.r(e);var a=i("321e"),n=i("c1e9");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("9a34");var r,c=i("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"617496a4",null,!1,a["a"],r);e["default"]=l.exports},"3a7b":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-list-chat",attrs:{"hover-class":t.clickable||t.link?"uni-list-chat--hover":""},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[i("v-uni-view",{class:{"uni-list--border":t.border,"uni-list-chat--first":t.isFirstChild}}),i("v-uni-view",{staticClass:"uni-list-chat__container"},[i("v-uni-view",{staticClass:"uni-list-chat__header-warp"},[t.avatarCircle||0===t.avatarList.length?i("v-uni-view",{staticClass:"uni-list-chat__header",class:{"header--circle":t.avatarCircle}},[i("v-uni-image",{staticClass:"uni-list-chat__header-image",attrs:{src:t.avatar,mode:"aspectFill"}})],1):i("v-uni-view",{staticClass:"uni-list-chat__header"},t._l(t.avatarList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"uni-list-chat__header-box",class:t.computedAvatar,style:{width:t.imageWidth+"px",height:t.imageWidth+"px"}},[i("v-uni-image",{staticClass:"uni-list-chat__header-image",style:{width:t.imageWidth+"px",height:t.imageWidth+"px"},attrs:{src:e.url,mode:"aspectFill"}})],1)})),1)],1),t.badgeText&&"left"===t.badgePositon?i("v-uni-view",{staticClass:"uni-list-chat__badge uni-list-chat__badge-pos",class:[t.isSingle]},[i("v-uni-text",{staticClass:"uni-list-chat__badge-text"},[t._v(t._s("dot"===t.badgeText?"":t.badgeText))])],1):t._e(),i("v-uni-view",{staticClass:"uni-list-chat__content"},[i("v-uni-view",{staticClass:"uni-list-chat__content-main"},[i("v-uni-text",{staticClass:"uni-list-chat__content-title uni-ellipsis"},[t._v(t._s(t.title))]),i("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s(t.note))])],1),i("v-uni-view",{staticClass:"uni-list-chat__content-extra"},[t._t("default",[i("v-uni-text",{staticClass:"uni-list-chat__content-extra-text"},[t._v(t._s(t.time))]),t.badgeText&&"right"===t.badgePositon?i("v-uni-view",{staticClass:"uni-list-chat__badge",class:[t.isSingle,"right"===t.badgePositon?"uni-list-chat--right":""]},[i("v-uni-text",{staticClass:"uni-list-chat__badge-text"},[t._v(t._s("dot"===t.badgeText?"":t.badgeText))])],1):t._e()])],2)],1)],1)],1)},o=[]},"414b":function(t,e,i){var a=i("6cbd");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("8498ed00",a,!0,{sourceMap:!1,shadowMode:!1})},5273:function(t,e,i){"use strict";var a=i("6420"),n=i.n(a);n.a},6420:function(t,e,i){var a=i("fe02");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("db868826",a,!0,{sourceMap:!1,shadowMode:!1})},"6cbd":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-617496a4]{background-color:#f8f8f8}.notify .notify-empty[data-v-617496a4]{position:fixed;left:0;top:0;width:100%;height:100vh;padding-bottom:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff}.notify .notify-empty .iconfont[data-v-617496a4]{font-size:%?132?%}.notify .notify-empty .empty-tips[data-v-617496a4]{display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?26?%;color:#c0c4cc}.notify .notify-empty .empty-tips .navigator[data-v-617496a4]{margin-left:%?16?%}body.?%PAGE?%[data-v-617496a4]{background-color:#f8f8f8}",""]),t.exports=e},"83be":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("8e6e"),i("456d"),i("ac6a"),i("96cf");var n=a(i("1da1")),o=a(i("ade3")),r=a(i("cbae")),c=a(i("5028")),l=(a(i("93f4")),i("277f")),s=i("2f62");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={components:{gjListChat:r.default},data:function(){return{notifyList:[],logo:this.$mSettingConfig.appLogo,loading:!0,hasLogin:!1,theIndex:null,oldIndex:null}},computed:{bottom:function(){var t=0;return t=90,t}},filters:{time:function(t){return(0,c.default)(1e3*t).format("YYYY-MM-DD HH:mm:ss")},notifyTypeFilter:function(t){if("App\\Notifications\\ProductOnsale"==t)return"新品发布"}},onShow:function(){this.initData()},methods:u(u({},(0,s.mapMutations)(["setNotifyNum"])),{},{initData:function(){this.hasLogin=this.$mStore.getters.hasLogin,this.notifyList.length=0,this.getList()},getList:function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.notificationsType)().then((function(t){console.log(t),e.notifyList=t.data;var i=0;e.notifyList.forEach((function(t){i+=t.notification_count})),e.setNotifyNum(i),e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),navTo:function(t){this.$mRouter.push({route:t})},onClick:function(){uni.showToast({title:"列表被点击"})},avatar:function(t){var e=[];return this.avatarList.forEach((function(i,a){a<t&&e.push(i)})),e}})};e.default=f},9166:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6b54"),i("c5f6");var a=45,n={name:"UniListChat",props:{title:{type:String,default:""},note:{type:String,default:""},clickable:{type:Boolean,default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},badgeText:{type:[String,Number],default:""},badgePositon:{type:String,default:"right"},time:{type:String,default:""},avatarCircle:{type:Boolean,default:!1},avatar:{type:String,default:""},avatarList:{type:Array,default:function(){return[]}}},computed:{isSingle:function(){if("dot"===this.badgeText)return"uni-badge--dot";var t=this.badgeText.toString();return t.length>1?"uni-badge--complex":"uni-badge--single"},computedAvatar:function(){return this.avatarList.length>4?(this.imageWidth=.31*a,"avatarItem--3"):this.avatarList.length>1?(this.imageWidth=.47*a,"avatarItem--2"):(this.imageWidth=a,"avatarItem--1")}},data:function(){return{isFirstChild:!1,border:!0,imageWidth:50}},methods:{onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},openPage:function(){["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)}}};e.default=n},"9a34":function(t,e,i){"use strict";var a=i("414b"),n=i.n(a);n.a},ab7b:function(t,e,i){"use strict";i.r(e);var a=i("9166"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},c1e9:function(t,e,i){"use strict";i.r(e);var a=i("83be"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},cbae:function(t,e,i){"use strict";i.r(e);var a=i("3a7b"),n=i("ab7b");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("5273");var r,c=i("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"06424caa",null,!1,a["a"],r);e["default"]=l.exports},fe02:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.uni-list-chat[data-v-06424caa]{font-size:16px;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background-color:#fff}.uni-list-chat--hover[data-v-06424caa]{background-color:#f5f5f5}.uni-list--border[data-v-06424caa]{position:relative;margin-left:15px;\n}\n.uni-list--border[data-v-06424caa]:after{position:absolute;top:0;right:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}.uni-list-item--first[data-v-06424caa]:after{height:0}\n.uni-list-chat--first[data-v-06424caa]{border-top-width:0}.uni-ellipsis[data-v-06424caa]{\noverflow:hidden;white-space:nowrap;text-overflow:ellipsis;\n}.uni-ellipsis-2[data-v-06424caa]{\noverflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;\n}.uni-list-chat__container[data-v-06424caa]{position:relative;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:10px 15px;position:relative;overflow:hidden}.uni-list-chat__header-warp[data-v-06424caa]{position:relative}.uni-list-chat__header[data-v-06424caa]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;\n\n\nwidth:45px;height:45px;\nborder-radius:5px;border-color:#eee;border-width:1px;border-style:solid;overflow:hidden}.uni-list-chat__header-box[data-v-06424caa]{\nbox-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;width:45px;height:45px;\n\n\noverflow:hidden;border-radius:2px}.uni-list-chat__header-image[data-v-06424caa]{margin:1px;\n\n\nwidth:45px;height:45px\n}\n.uni-list-chat__header-image[data-v-06424caa]{display:block;width:100%;height:100%}.avatarItem--1[data-v-06424caa]{width:100%;height:100%}.avatarItem--2[data-v-06424caa]{width:47%;height:47%}.avatarItem--3[data-v-06424caa]{width:32%;height:32%}\n.header--circle[data-v-06424caa]{border-radius:50%}.uni-list-chat__content[data-v-06424caa]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;padding:2px 0}.uni-list-chat__content-main[data-v-06424caa]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-left:10px;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.uni-list-chat__content-title[data-v-06424caa]{font-size:16px;color:#3b4144;font-weight:400;overflow:hidden}.uni-list-chat__content-note[data-v-06424caa]{margin-top:3px;color:#999;font-size:12px;font-weight:400;overflow:hidden}.uni-list-chat__content-extra[data-v-06424caa]{\n-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;margin-left:5px}.uni-list-chat__content-extra-text[data-v-06424caa]{color:#999;font-size:12px;font-weight:400;overflow:hidden}.uni-list-chat__badge-pos[data-v-06424caa]{position:absolute;\n\n\nleft:calc(45px + 10px - 6px + 0px);top:calc(10px/ 2 + 1px + 0px)\n}.uni-list-chat__badge[data-v-06424caa]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:100px;background-color:#ff5a5f}.uni-list-chat__badge-text[data-v-06424caa]{color:#fff;font-size:12px}.uni-badge--single[data-v-06424caa]{\nleft:calc(45px + 7px + 0px);\nwidth:18px;height:18px}.uni-badge--complex[data-v-06424caa]{\n\n\nwidth:auto;\nheight:18px;padding:0 6px}.uni-badge--dot[data-v-06424caa]{\n\n\nleft:calc(45px + 15px - 10px/ 2 + 1px + 0px);\nwidth:10px;height:10px;padding:0}.uni-list-chat--right[data-v-06424caa]{\n}',""]),t.exports=e}}]);